# テスト計画 - hugo-theme-issues

このドキュメントは、hugo-theme-issuesテーマのテスト方法と確認項目をまとめています。

## テスト環境のセットアップ

### 前提条件

- Hugo v0.146.0 以上
- ウェブブラウザ（Chrome、Firefox、Safari など）
- テキストエディタ

### テスト環境の起動

```bash
# プロジェクトルートで実行
make server

# または
hugo server -D
```

デフォルトでは `http://localhost:1313` でサーバーが起動します。

## テストチェックリスト

### 1. ビルドテスト

開発環境でのビルドが成功することを確認します。

```bash
make test

# または
hugo --quiet
```

**確認項目：**
- [ ] Hugoバージョンが v0.146.0 以上である
- [ ] ビルドがエラーなく完了する
- [ ] `public/` ディレクトリが生成される

### 2. レイアウト・レスポンシブテスト

各デバイスサイズでレイアウトが正しく表示されることを確認します。

#### 2.1 デスクトップレイアウト（1025px 以上）

3カラムレイアウト（左サイドバー + メイン + 右サイドバー）が表示されることを確認：

**確認項目：**
- [ ] ヘッダーが全幅で表示される
- [ ] 左サイドバー（250px）が表示される
- [ ] メインコンテンツ領域がフレキシブル幅で表示される
- [ ] 右サイドバー（300px）が表示される
- [ ] フッターが全幅で表示される
- [ ] サイドバーのコンテンツが重ならない

**ブラウザ開発者ツール：**
- デバイスを「Responsive Design Mode」に設定
- ウィンドウサイズを 1400px × 900px に設定

#### 2.2 タブレットレイアウト（769px～1024px）

2カラムレイアウト（左サイドバー + メイン）が表示され、右サイドバーが下部に配置されることを確認：

**確認項目：**
- [ ] 左サイドバー（250px）が表示される
- [ ] メインコンテンツ領域がフレキシブル幅で表示される
- [ ] 右サイドバーが下部に配置される
- [ ] コンテンツが読みやすい幅に調整されている

**ブラウザ開発者ツール：**
- ウィンドウサイズを 1024px × 768px に設定

#### 2.3 モバイルレイアウト（768px 以下）

1カラムレイアウト（全要素がスタック）が表示されることを確認：

**確認項目：**
- [ ] 左サイドバーが非表示またはメニュー化される
- [ ] メインコンテンツが全幅で表示される
- [ ] 右サイドバーがコンテンツ下部に配置される
- [ ] テキストが読みやすい幅に調整されている
- [ ] ナビゲーションが使いやすい（ハンバーガーメニュー等）

**ブラウザ開発者ツール：**
- デバイスを「iPhone 12」「iPad」など実機でテスト
- ウィンドウサイズを 375px × 667px に設定

### 3. 左サイドバー（プロジェクトナビゲーション）テスト

左サイドバーが正しく機能していることを確認します。

**確認項目：**

#### 3.1 コンテンツ表示
- [ ] エピックが表示される
- [ ] 子issueが親エピック配下にインデントされて表示される
- [ ] 孫issueが子issue配下にさらにインデントされて表示される
- [ ] Issue Type別のアイコンが正しく表示される
  - [ ] 🟣 Epic
  - [ ] 📗 Story
  - [ ] ☑️ Task
  - [ ] ➡️ Sub-task
  - [ ] 🐞 Bug
  - [ ] 📄 その他
- [ ] 孤立issue（どのエピックにも属さないissue）が分離表示される

#### 3.2 ナビゲーション機能
- [ ] issueをクリックすると、そのページに遷移する
- [ ] 現在のページが `.active` クラスでハイライトされている
- [ ] ページを遷移しても、左サイドバーの状態が保持される
- [ ] 親階層へのナビゲーション（⬆️ボタン）が機能する

#### 3.3 スタイリング
- [ ] インデント幅が適切（1段階目：1rem、2段階目：2rem）
- [ ] アクティブページが視覚的に強調されている（背景色やテキスト色）
- [ ] ホバー時のスタイルが表示される

### 4. スタイリングテスト

各要素のスタイルが正しく適用されていることを確認します。

#### 4.1 メンション要素（`.mention` クラス）

```markdown
@user や [#issue-number] などのメンション
```

**確認項目：**
- [ ] 背景色が青系（#e6f3ff）である
- [ ] テキスト色が青（#0969da）である
- [ ] ボーダーが表示される（#b6d7ff）
- [ ] 角が丸くなっている（border-radius: 16px）
- [ ] ホバー時に背景色が濃くなる（#cfe7ff）
- [ ] パディングが適切に設定されている

#### 4.2 コード要素

**インラインコード：**

```markdown
`code` 形式
```

**確認項目：**
- [ ] 背景色がグレー（#f5f5f5）である
- [ ] テキストが読みやすい
- [ ] ボーダーが薄い灰色で表示される
- [ ] パディングが適切に設定されている

**コードブロック：**

````markdown
```
code block
```
````

**確認項目：**
- [ ] 背景色がグレー（#f5f5f5）である
- [ ] 横スクロール機能が動作する（長いコード行）
- [ ] パディングが適切に設定されている
- [ ] フォントがモノスペースである

#### 4.3 その他の要素

**リスト要素：**
- [ ] 順序なしリストが正しく表示される
- [ ] 順序ありリストが正しく表示される
- [ ] ネストされたリストのインデントが適切である

**テーブル要素：**
- [ ] テーブルヘッダーが灰色背景で表示される
- [ ] テーブルセルに適切なパディングがある
- [ ] ボーダーが表示される

**リンク要素：**
- [ ] リンクが青色（#00e）で表示される
- [ ] リンクにアンダーラインが表示される（オプション）
- [ ] ホバー時にスタイルが変化する

### 5. ナビゲーションテスト

ナビゲーションメニューが正しく機能していることを確認します。

**確認項目：**
- [ ] ヘッダーのメニューが表示される
- [ ] メニュー項目をクリックすると遷移する
- [ ] アクティブなメニュー項目がハイライトされている
- [ ] サブメニューが展開・折りたたみできる（if implemented）

### 6. コンテンツテスト

各種コンテンツが正しく表示されることを確認します。

**確認項目：**
- [ ] ホームページが表示される
- [ ] ブログ記事一覧が表示される
- [ ] 個別ブログ記事が正しくレンダリングされる
- [ ] タグページが動作する
- [ ] カテゴリページが動作する

### 7. パフォーマンステスト

ページの読み込み速度とパフォーマンスを確認します。

**確認項目：**
- [ ] ページ読み込み速度が 3 秒以内（測定用）
- [ ] ブラウザのコンソールにエラーがない
- [ ] 画像が正しく読み込まれている
- [ ] CSSが正しく読み込まれている
- [ ] JavaScriptが正しく動作している

**計測方法：**
- Google Chrome DevTools → Lighthouse
- Google PageSpeed Insights

### 8. ブラウザ互換性テスト

異なるブラウザで正しく表示されることを確認します。

**テスト対象ブラウザ：**
- [ ] Google Chrome（最新版）
- [ ] Mozilla Firefox（最新版）
- [ ] Safari（最新版）
- [ ] Edge（最新版）

**確認項目（各ブラウザ）：**
- [ ] レイアウトが正しく表示される
- [ ] スタイルが正しく適用される
- [ ] ナビゲーションが機能する
- [ ] テキストが読みやすい

### 9. アクセシビリティテスト

ページがアクセシビリティ基準を満たしていることを確認します。

**確認項目：**
- [ ] コントラスト比が WCAG AA 基準を満たしている
  - [ ] メンション要素のコントラスト比：4.5:1 以上
  - [ ] テキスト色のコントラスト比：4.5:1 以上
- [ ] キーボードナビゲーション（Tab キー）が機能する
- [ ] スクリーンリーダーで読み込める（if applicable）
- [ ] フォーカスインジケータが表示される

### 10. エラーハンドリングテスト

エラーが正しく処理されることを確認します。

**確認項目：**
- [ ] 存在しないページにアクセスした場合、404 ページが表示される
- [ ] ブラウザのコンソールにエラーが表示されない

## テスト手順（段階的）

### フェーズ 1: 初期テスト

新機能やバグ修正を実装した後、以下を実施：

1. `make test` でビルドが成功することを確認
2. `make server` でサーバーを起動
3. ブラウザで `http://localhost:1313` にアクセス
4. 左右のサイドバーが表示されていることを確認
5. メインコンテンツが読める状態であることを確認

### フェーズ 2: 詳細テスト

以下をテスト対象に応じて実施：

1. レスポンシブデザインテスト（デスクトップ、タブレット、モバイル）
2. 左サイドバー機能テスト
3. 主要機能の動作テスト
4. ブラウザ互換性テスト（複数ブラウザ）

### フェーズ 3: 最終テスト

本番リリース前に実施：

1. 全テストチェックリストを実施
2. パフォーマンステスト
3. アクセシビリティテスト

## テスト用コマンド

```bash
# ビルドテスト
make test

# サーバー起動
make server

# クリーンビルド
make clean && make build

# 新規ビルド+サーバー起動
make fresh
```

## 問題発見時の手順

1. **問題の特定**：何が、どこで、どのような条件で発生しているか
2. **再現確認**：複数回実施して再現性を確認
3. **情報収集**：
   - ブラウザバージョン
   - デバイス情報（ウィンドウサイズ等）
   - スクリーンショット
   - コンソールエラー
4. **Issue報告**：GitHubの Issues セクションで報告

## テスト結果の記録

テスト実施日時、テスト環境、結果を記録：

| 日時 | ブラウザ | デバイス | テスト項目 | 結果 | 備考 |
|---|---|---|---|---|---|
| 2024-01-XX | Chrome 120 | Desktop 1400px | レイアウト全般 | ✓ Pass | - |
| 2024-01-XX | Safari 17 | iPhone 12 | モバイルレイアウト | ✓ Pass | - |

## 参考資料

- [Hugo ドキュメント](https://gohugo.io/getting-started/)
- [WCAG 2.1 ガイドライン](https://www.w3.org/WAI/WCAG21/quickref/)
- [Google Lighthouse](https://developers.google.com/web/tools/lighthouse)
